<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<!-- 외부 라이브러리 연결 -->
<script src = "../js/Jumin.js"></script>
<!-- <script type="text/javascript">

    var jumin = new Jumin('835478-3457888');
    
    //getter를 통해서 값을 읽어오기
    console.log(jumin.jumin_no);
    
    //setter를 통해서 값을 설정
    jumin.jumin_no = '975412-4547813';
    console.log(jumin.jumin_no);
    
    //출생년도 읽기
    console.log(jumin.getYear());
    
</script> -->
<script type="text/javascript">

	var regular_jumin = /^(?:[0-9]{2}(?:0[1-9]|1[0-2])(?:0[1-9]|[1,2][0-9]|3[0,1]))-[1-8][0-9]{6}$/;

    function extract(){
    	
    	var jumin_no = document.getElementById("jumin_no").value;
    	
    	if (regular_jumin.test(jumin_no) == false){
    		alert("주민번호 형식이 잘못되었습니다.");
    		document.getElementById("jumin_no").value = ''; //값지우기
    		document.getElementById("jumin_no").focus();
    		return;
    	}
    	
    	//객체 인스턴스 생성
    	var jumin = new Jumin(jumin_no);
    	
    	//객체 내 함수 사용하여 값을 추출
    	var birth_year = jumin.getYear();
    	
    	var age = jumin.getAge();
    	
    	var tti = jumin.getTti();
    	
    	var ganji = jumin.getGanji();
    	
    	var gender = jumin.getGender();
    	
    	var local = jumin.getLocal();
    	
    	var season = jumin.getSeason();
    	
    	//추출된 값을 테이블 내에 넣기
    	document.getElementById("jumin_no2").innerHTML = jumin.jumin_no;
    	document.getElementById("birth_year").innerHTML = birth_year;
    	document.getElementById("age").innerHTML = age;
    	document.getElementById("tti").innerHTML = tti;
    	document.getElementById("ganji").innerHTML = ganji;
    	document.getElementById("gender").innerHTML = gender;
    	document.getElementById("local").innerHTML = local;
    	document.getElementById("season").innerHTML = season;
    }
    
</script>
</head>
<body>
주민등록번호 : <input id = "jumin_no">
           <input type = "button" value ="부가정보추출" onclick = "extract();">
<hr>
<table border = "1" width = "500">
   <tr>
     <th width = "150">주민번호</th>
     <td><span id = "jumin_no2"></span></td>
   </tr>
   <tr>
     <th width = "150">출생년도</th>
     <td><span id = "birth_year"></span></td>
   </tr>
   <tr>
     <th width = "150">나이</th>
     <td><span id = "age"></span></td>
   </tr>
   <tr>
     <th width = "150">띠</th>
     <td><span id = "tti"></span></td>
   </tr>
   <tr>
     <th width = "150">간지</th>
     <td><span id = "ganji"></span></td>
   </tr>
   <tr>
     <th width = "150">성별</th>
     <td><span id = "gender"></span></td>
   </tr>
   <tr>
     <th width = "150">지역</th>
     <td><span id = "local"></span></td>
   </tr>
   <tr>
     <th width = "150">계절</th>
     <td><span id = "season"></span></td>
   </tr>
</table>
</body>
</html>